"TWO"

; Microcode taken from 4.6 in the textbook

OP_VAL	EQU 4
WAIT	EQU 0FH

	ORG (OP_VAL * 16) + 1

MULT
	ALU_FUNC=CLEAR, ALU_DEST=B, END_S

	B_SOURCE=IB, ALU_FUNC=B, ALU_DEST=A, BOP=Z, MICRO_AD=DONE, END_S

MLOOP
	A_SOURCE=IA, B_SOURCE=TB, ALU_FUNC=A_PLUS_B_PLUS_C, CIN=NO,
	ALU_DEST=B, END_S

	A_SOURCE=TA, ALU_FUNC=A_MINUS_ONE_PLUS_C, CIN=NO, ALU_DEST=A,
	BOP=NOT_Z, MICRO_AD=MLOOP, END_S

DONE
	B_SOURCE=TB, ALU_FUNC=B, ALU_DEST=F, COUNT=NOCOUNT, BOP=NOT_GO,
	MICRO_AD=WAIT, END_S
